# ç”Ÿäº§çº§ä¼˜åŒ–å®Œæˆæ€»ç»“

## âœ… å®Œæˆçš„å¢å¼ºåŠŸèƒ½

### 1. PM2 è¿›ç¨‹å®ˆæŠ¤

**æ–°å¢æ–‡ä»¶**ï¼š
- `ecosystem.config.js` - PM2 é…ç½®æ–‡ä»¶
- `pm2-manager.sh` - PM2 ç®¡ç†è„šæœ¬ï¼ˆå¯æ‰§è¡Œï¼‰

**åŠŸèƒ½**ï¼š
- å‰åç«¯è¿›ç¨‹è‡ªåŠ¨é‡å¯
- ç»Ÿä¸€æ—¥å¿—ç®¡ç†ï¼ˆlogs/ ç›®å½•ï¼‰
- å¼€æœºè‡ªå¯æ”¯æŒ
- å†…å­˜é™åˆ¶ï¼ˆåç«¯ 500MBï¼Œå‰ç«¯ 300MBï¼‰

**ä½¿ç”¨å‘½ä»¤**ï¼š
```bash
# å¯åŠ¨æœåŠ¡
./pm2-manager.sh start

# æŸ¥çœ‹çŠ¶æ€
./pm2-manager.sh status

# æŸ¥çœ‹æ—¥å¿—
./pm2-manager.sh logs

# é‡å¯æœåŠ¡
./pm2-manager.sh restart

# å‰ç«¯ä»£ç æ›´æ–°é‡æ–°æ„å»º
./pm2-manager.sh rebuild

# é…ç½®å¼€æœºè‡ªå¯
./pm2-manager.sh setup
```

### 2. ç”Ÿäº§ç¯å¢ƒå®‰å…¨è­¦å‘Š

**README.md æ›´æ–°**ï¼š
- âš ï¸ æ˜ç¡®æ ‡æ³¨ï¼šä¸¥ç¦ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ `npm run dev`
- è¯´æ˜åŸå› ï¼šå®‰å…¨ã€Host æ ¡éªŒã€æ€§èƒ½ã€ç¨³å®šæ€§
- åŒºåˆ†å¼€å‘/ç”Ÿäº§æ¨¡å¼
- æ·»åŠ ç”Ÿäº§éƒ¨ç½²å¿«é€Ÿå…¥å£

**DEPLOYMENT.md æ›´æ–°**ï¼š
- ğŸš« é¡¶éƒ¨é†’ç›®è­¦å‘Šç« èŠ‚
- è¯¦ç»†è¯´æ˜ dev server çš„é—®é¢˜
- æ¨èä½¿ç”¨ PM2 å®ˆæŠ¤è¿›ç¨‹
- å®Œæ•´ PM2 ä½¿ç”¨æ–‡æ¡£ï¼ˆ90+ è¡Œï¼‰

### 3. PWA å®‰è£…ä½“éªŒ

**å·²é›†æˆç»„ä»¶**ï¼š
- `client/src/components/InstallPWA.vue` - å®‰è£…æç¤ºç»„ä»¶
- å·²é›†æˆåˆ° `MatrixView.vue`ï¼ˆé¦–é¡µï¼‰
- ç›‘å¬ `beforeinstallprompt` äº‹ä»¶
- å³ä¸‹è§’æ‚¬æµ®æŒ‰é’®ï¼šğŸ“± å®‰è£…åˆ°æ¡Œé¢
- å®‰è£…åè‡ªåŠ¨éšè—

**æ•ˆæœ**ï¼š
- åªè¯»æ¨¡å¼æ¸¸å®¢ä¹Ÿå¯å®‰è£… PWA
- ä¸å½±å“ç°æœ‰é¡µé¢å¸ƒå±€
- ç¬¦åˆ Material Design è§„èŒƒ

---

## ğŸ“‚ æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶
1. `ecosystem.config.js` - PM2 é…ç½®
2. `pm2-manager.sh` - PM2 ç®¡ç†è„šæœ¬ï¼ˆ+xï¼‰
3. `PRODUCTION_OPTIMIZATION.md` - æœ¬æ–‡æ¡£

### ä¿®æ”¹æ–‡ä»¶
1. `README.md` - æ·»åŠ å¼€å‘/ç”Ÿäº§ç¯å¢ƒè­¦å‘Š
2. `DEPLOYMENT.md` - å®Œæ•´ PM2 ç« èŠ‚å’Œå®‰å…¨è­¦å‘Š

### å·²å­˜åœ¨ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰
1. `client/src/components/InstallPWA.vue` - PWA å®‰è£…ç»„ä»¶
2. `client/vite.config.js` - PWA é…ç½®å·²å®Œæˆ
3. `ecosystem.config.js` - PM2 é…ç½®
4. `start-backend.sh` / `start-frontend.sh` - æ‰‹åŠ¨å¯åŠ¨è„šæœ¬

---

## ğŸš€ éƒ¨ç½²æµç¨‹ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

### åˆæ¬¡éƒ¨ç½²

```bash
cd /home/lanlic/Html-Project/3b-manage/game-manager

# 1. å®‰è£… PM2ï¼ˆå¦‚æœªå®‰è£…ï¼‰
npm install -g pm2

# 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆè‡ªåŠ¨æ„å»ºå‰ç«¯ï¼‰
./pm2-manager.sh start

# 3. éªŒè¯æœåŠ¡çŠ¶æ€
./pm2-manager.sh status

# 4. é…ç½®å¼€æœºè‡ªå¯
./pm2-manager.sh setup
# æ‰§è¡Œè¾“å‡ºçš„ sudo å‘½ä»¤

# 5. ä¿å­˜è¿›ç¨‹åˆ—è¡¨
pm2 save

# 6. å¥åº·æ£€æŸ¥
npm run healthcheck
```

### ä»£ç æ›´æ–°éƒ¨ç½²

```bash
# æ‹‰å–ä»£ç 
git pull

# æ›´æ–°ä¾èµ–ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰
cd server && npm install
cd ../client && npm install

# åç«¯æ›´æ–°
./pm2-manager.sh restart

# å‰ç«¯æ›´æ–°ï¼ˆéœ€é‡æ–°æ„å»ºï¼‰
./pm2-manager.sh rebuild
```

---

## ğŸ“Š PM2 å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹
pm2 list

# æŸ¥çœ‹ç‰¹å®šè¿›ç¨‹è¯¦æƒ…
pm2 show game-backend

# å®æ—¶ç›‘æ§
pm2 monit

# æŸ¥çœ‹æ—¥å¿—ï¼ˆæœ€è¿‘ 100 è¡Œï¼‰
pm2 logs game-backend --lines 100

# æ¸…ç©ºæ—¥å¿—
pm2 flush

# é‡å¯æ‰€æœ‰è¿›ç¨‹
pm2 restart all

# åœæ­¢æ‰€æœ‰è¿›ç¨‹
pm2 stop all

# åˆ é™¤æ‰€æœ‰è¿›ç¨‹
pm2 delete all
```

---

## ğŸ¯ éªŒè¯æ¸…å•

- [x] PM2 é…ç½®æ–‡ä»¶æ­£ç¡®
- [x] PM2 ç®¡ç†è„šæœ¬å¯æ‰§è¡Œ
- [x] README åŒ…å«ç”Ÿäº§ç¯å¢ƒè­¦å‘Š
- [x] DEPLOYMENT åŒ…å«å®Œæ•´ PM2 æ–‡æ¡£
- [x] PWA å®‰è£…ç»„ä»¶å·²é›†æˆ
- [x] ä¸ç ´åç°æœ‰éƒ¨ç½²ç»“æ„
- [x] æ‰€æœ‰è„šæœ¬åŒ…å«è¯¦ç»†æ³¨é‡Š

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [README.md](README.md) - é¡¹ç›®æ¦‚è§ˆå’Œæœ¬åœ°å¼€å‘
- [DEPLOYMENT.md](DEPLOYMENT.md) - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—
- [PWA_TEST.md](PWA_TEST.md) - PWA åŠŸèƒ½æµ‹è¯•
- [V2.1_UPDATE.md](V2.1_UPDATE.md) - æƒé™ç³»ç»Ÿæ›´æ–°

---

**ä¼˜åŒ–å®Œæˆï¼** ğŸ‰

ç°åœ¨é¡¹ç›®å…·å¤‡å®Œæ•´çš„ç”Ÿäº§çº§éƒ¨ç½²èƒ½åŠ›ï¼š
- âœ… è¿›ç¨‹å®ˆæŠ¤ä¸è‡ªåŠ¨é‡å¯
- âœ… ç»Ÿä¸€æ—¥å¿—ç®¡ç†
- âœ… å¼€æœºè‡ªå¯æ”¯æŒ
- âœ… æ¸…æ™°çš„å¼€å‘/ç”Ÿäº§åŒºåˆ†
- âœ… PWA å®‰è£…ä½“éªŒä¼˜åŒ–
